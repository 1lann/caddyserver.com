<!DOCTYPE html>
<html>
	<head>
		<title>shutdown - Caddy Directives</title>
		{{.Include "/includes/docs-head.html"}}
	</head>
	<body>
		<main>
			<h1>shutdown</h1>

			<p>
				shutdown executes a command when the server exits. This is useful for performing cleanup or stopping a background process like php-fpm. (Also see <a href="/docs/startup">startup</a>.)
			</p>

			<p>
				Each command that is executed at shutdown is blocking. The output and error of the command go to stdout and stderr, respectively. There is no stdin.
			</p>

			<p>
				Note that shutdown commands will not execute if Caddy is force-terminated, for example, by using a "Force Quit" feature provided by your operating system. However, a typical SIGINT (Ctrl+C) will allow the shutdown commands to execute.
			</p>



			<h3>Syntax</h3>

			<code class="block"><span class="hl-directive">shutdown</span> <span class="hl-arg"><i>command</i></span></code>

			<ul>
				<li><b>command</b> is the command to execute</li>
			</ul>

			<p>
				The command may be passed arguments/flags, but remember that if there are any spaces, the command and its arguments must enclosed with quotes. See the example.
			</p>



			<h3>Examples</h3>

			<p>
				Stop php-fpm when the server quits:
			</p>

			<code class="block"><span class="hl-directive">shutdown</span> <span class="hl-arg">"/etc/init.d/php-fpm stop"</span></code>

			<footer>
				&copy; 2015
			</footer>
		</main>

		{{.Include "/includes/docs-nav.html"}}
	</body>
</html>