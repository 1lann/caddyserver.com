<!DOCTYPE html>
<html>
	<head>
		<title>log - Caddy Directives</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, maximum-scale=1.0">
		<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Muli|Open+Sans:300,400">
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="/resources/css/unsemantic.css">
		<link rel="stylesheet" href="/resources/css/common.css">
		<link rel="stylesheet" href="/resources/css/docs.css">
		<link rel="icon" href="/favicon.ico">
		<script src="/resources/js/common.js"></script>
	</head>
	<body>
		<main>
			<h1>log</h1>

			<p>
				log enables request logging. The request log is also known from some vernaculars as an access log.
			</p>



			<h3>Syntax</h3>
			
			<code class="block"><span class="hl-directive">log</span></code>

			<ul>
				<li>With no arguments, an access log is written to access.log in the common log format for all requests (base path = /).</li>
			</ul>

			<code class="block"><span class="hl-directive">log</span> <span class="hl-arg"><i>file</i></span></code>

			<ul>
				<li><b>file</b> is the log file to create (or append to). The base path is assumed to be /.</li>
			</ul>

			<code class="block"><span class="hl-directive">log</span> <span class="hl-arg"><i>path file </i>[<i>format</i>]</span></code>

			<ul>
				<li><b>path</b> is the base path to match in order to be logged</li>
				<li><b>file</b> is the log file to create (or append to)</li>
				<li><b>format</b> is the log format to use</li>
			</ul>



			<h3>Log File</h3>

			<p>
				The log file can be any filename. It could also be <code>stdout</code> or <code>stderr</code> to write the log to the console. The log file need not exist beforehand; Caddy will create or append to it.
			</p>


			<h3>Log Format</h3>

			<p>
				You can specify a custom log format with any of these placeholders:
			</p>

			<ul>
				<li><b>{fragment}</b> - The part of the URL after <code>#</code></li>
				<li><b>{host}</b> - The hostname in the request</li>
				<li><b>{latency}</b> - Approximate time the server spent handling the request</li>
				<li><b>{method}</b> - The request method</li>
				<li><b>{path}</b> - The path portion of the URL</li>
				<li><b>{port}</b> - The port</li>
				<li><b>{proto}</b> - The protocol string (e.g. "HTTP/1.1")</li>
				<li><b>{query}</b> - The query string portion of the URL</li>
				<li><b>{remote}</b> - The client's IP address</li>
				<li><b>{scheme}</b> - The protocol/scheme used (usually http or https)</li>
				<li><b>{size}</b> - The size of the response body</li>
				<li><b>{status}</b> - The HTTP status code of the response</li>
				<li><b>{uri}</b> - The request URI</li>
				<li><b>{when}</b> - Timestamp in the format <code>02/Jan/2006:15:04:05 -0700</code></li>
			</ul>



			<h3>Examples</h3>

			<p>
				Log all requests to a file:
			</p>

			<code class="block"><span class="hl-directive">log</span> <span class="hl-arg">/var/log/access.log</span></code>


			<p>
				Custom log format:
			</p>

			<code class="block"><span class="hl-directive">log</span> <span class="hl-arg">/ ../access.log "{method} {proto} {path}"</span></code>



			<footer>
				&copy; 2015
			</footer>
		</main>

		<nav>
			<a href="/" id="logo-link"><img src="/resources/images/caddy-boxed.png" alt="Caddy" class="logo"></a>
			<a href="/download">Download</a>
			<a href="/docs">User Guide</a>
			<a href="/docs/faq">FAQ</a>
			<a href="https://github.com/mholt/caddy">GitHub</a>
		</nav>

		<div class="nav">
			<h6>Caddy</h6>
			<ul>
				<li><a href="/docs/getting-started">Getting Started</a></li>
				<li><a href="/docs/faq">FAQ</a></li>
				<li><a href="/docs/caddyfile">The Caddyfile</a></li>
			</ul>

			<h6>Directives</h6>
			<ul>
				<li><a href="/docs/basicauth">basicauth</a></li>
				<li><a href="/docs/bind">bind</a></li>
				<li><a href="/docs/browse">browse</a></li>
				<li><a href="/docs/errors">errors</a></li>
				<li><a href="/docs/ext">ext</a></li>
				<li><a href="/docs/fastcgi">fastcgi</a></li>
				<li><a href="/docs/git">git</a></li>
				<li><a href="/docs/gzip">gzip</a></li>
				<li><a href="/docs/header">header</a></li>
				<li><a href="/docs/import">import</a></li>
				<li><a href="/docs/internal">internal</a></li>
				<li><a href="/docs/log">log</a></li>
				<li><a href="/docs/markdown">markdown</a></li>
				<li><a href="/docs/proxy">proxy</a></li>
				<li><a href="/docs/redir">redir</a></li>
				<li><a href="/docs/rewrite">rewrite</a></li>
				<li><a href="/docs/root">root</a></li>
				<li><a href="/docs/shutdown">shutdown</a></li>
				<li><a href="/docs/startup">startup</a></li>
				<li><a href="/docs/templates">templates</a></li>
				<li><a href="/docs/tls">tls</a></li>
				<li><a href="/docs/websocket">websocket</a></li>
			</ul>

		</div>
	</body>
</html>