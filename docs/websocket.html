<!DOCTYPE html>
<html>
	<head>
		<title>websocket - Caddy Directives</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, maximum-scale=1.0">
		<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Muli|Open+Sans:300,400">
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="/resources/css/unsemantic.css">
		<link rel="stylesheet" href="/resources/css/common.css">
		<link rel="stylesheet" href="/resources/css/docs.css">
		<link rel="icon" href="/favicon.ico">
		<script src="/resources/js/common.js"></script>
	</head>
	<body>
		<main>
			<h1>websocket</h1>

			<p>
				websocket facilitates a <a href="https://developer.mozilla.org/en-US/docs/WebSockets">WebSocket</a> server/proxy. A command is executed when a new <a href="https://developer.mozilla.org/en-US/docs/WebSockets/Writing_WebSocket_client_applications">WebSocket connection</a> is made and Caddy relays the client's connection to the command.
			</p>

			<p>
				Any command can be executed as long as it takes input from stdin and writes to stdout, as this is how it will communicate with the WebSocket client. The command does not need to know that it is talking to a Web Socket client; just use stdin and stdout.
			</p>

			<p>
				Caddy will not make any effort to keep the backend process alive while a client is connected. It is the developer's responsibility to ensure the program does not terminate until the client is ready to close the connection or would be ready for it to terminate.
			</p>



			<h3>Syntax</h3>

			<code class="block"><span class="hl-directive">websocket</span> <span class="hl-arg">[<i>path</i>] <i>command</i></span></code>

			<ul>
				<li><b>path</b> is the base path to match with the request URL</li>
				<li><b>command</b> is the command to execute</li>
			</ul>

			<p>
				If path is omitted, a default path of / is assumed (meaning all requests).
			</p>



			<h3>Examples</h3>

			<p>
				Simple WebSockets echo server:
			</p>

			<code class="block"><span class="hl-directive">websocket</span> <span class="hl-arg">/echo cat</span></code>

			<footer>
				&copy; 2015
			</footer>
		</main>

		<nav>
			<a href="/" id="logo-link"><img src="/resources/images/caddy-boxed.png" alt="Caddy" class="logo"></a>
			<a href="/download">Download</a>
			<a href="/docs">User Guide</a>
			<a href="/docs/faq">FAQ</a>
			<a href="https://github.com/mholt/caddy">GitHub</a>
		</nav>

		<div class="nav">
			<h6>Caddy</h6>
			<ul>
				<li><a href="/docs/getting-started">Getting Started</a></li>
				<li><a href="/docs/faq">FAQ</a></li>
				<li><a href="/docs/caddyfile">The Caddyfile</a></li>
			</ul>

			<h6>Directives</h6>
			<ul>
				<li><a href="/docs/basicauth">basicauth</a></li>
				<li><a href="/docs/bind">bind</a></li>
				<li><a href="/docs/browse">browse</a></li>
				<li><a href="/docs/errors">errors</a></li>
				<li><a href="/docs/ext">ext</a></li>
				<li><a href="/docs/fastcgi">fastcgi</a></li>
				<li><a href="/docs/git">git</a></li>
				<li><a href="/docs/gzip">gzip</a></li>
				<li><a href="/docs/header">header</a></li>
				<li><a href="/docs/import">import</a></li>
				<li><a href="/docs/internal">internal</a></li>
				<li><a href="/docs/log">log</a></li>
				<li><a href="/docs/markdown">markdown</a></li>
				<li><a href="/docs/proxy">proxy</a></li>
				<li><a href="/docs/redir">redir</a></li>
				<li><a href="/docs/rewrite">rewrite</a></li>
				<li><a href="/docs/root">root</a></li>
				<li><a href="/docs/shutdown">shutdown</a></li>
				<li><a href="/docs/startup">startup</a></li>
				<li><a href="/docs/templates">templates</a></li>
				<li><a href="/docs/tls">tls</a></li>
				<li><a href="/docs/websocket">websocket</a></li>
			</ul>

		</div>
	</body>
</html>